<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Shon Gur — Security Researcher</title>
  <meta name="description" content="Shon Gur — security research, tooling & projects" />
  <style>
    :root {
      /* Dark blue → crimson vibe */
      --hue-start: 220;     /* deep blue */
      --hue-range: 110;     /* scroll morph towards magenta/red */
      --sat: 70%;
      --light1: 6.5%;
      --light2: 2.5%;
      --accent-blue: #64b5f6; /* primary */
      --accent-red: #ef5350;  /* secondary */
      --text: #eaf2ff;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; }

    body {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      color: var(--text);
      min-height: 100svh;
      background:
        radial-gradient(900px 600px at 15% -10%, rgba(100,181,246,.07), transparent 40%),
        radial-gradient(900px 600px at 85% 110%, rgba(239,83,80,.08), transparent 40%),
        linear-gradient(180deg,
          hsl(var(--hue) var(--sat) var(--light1)) 0%,
          hsl(calc(var(--hue) + 14) var(--sat) var(--light2)) 100%);
      transition: background 0.18s linear;
      overflow-x: hidden;
    }

    /* subtle scanline + grain overlay */
    body::before {
      content: ""; position: fixed; inset: 0; pointer-events: none; z-index: 1;
      background:
        repeating-linear-gradient( to bottom, rgba(0,0,0,0) 0 2px, rgba(0,0,0,.22) 2px 3px ),
        radial-gradient(circle at 20% 10%, rgba(255,255,255,.03) 0 2px, transparent 3px),
        radial-gradient(circle at 70% 80%, rgba(255,255,255,.02) 0 2px, transparent 3px);
      mix-blend-mode: overlay;
    }

    main { scroll-snap-type: y mandatory; position: relative; z-index: 2; }

    section {
      min-height: 100svh;
      display: grid; place-items: center; position: relative;
      padding: clamp(3rem, 6vw, 6rem) 1.25rem;
      scroll-snap-align: start;
    }

    .card {
      width: min(1100px, 94vw);
      background: rgba(5, 8, 13, 0.55);
      border: 1px solid rgba(100,181,246,.25);
      border-radius: 20px;
      padding: clamp(1.1rem, 2.6vw, 2rem);
      box-shadow: 0 30px 80px rgba(0,0,0,0.55), inset 0 0 0 1px rgba(255,255,255,0.03);
    }

    .badge { display:inline-block; padding:.25rem .5rem; border:1px dashed rgba(100,181,246,.45); color: var(--accent-blue); border-radius: 8px; font-weight:600; letter-spacing:.03em; }

    h1 { font-size: clamp(2rem, 6vw, 3.4rem); margin: 0 0 .5rem; letter-spacing: .02em; }
    h2 { font-size: clamp(1.4rem, 4.5vw, 2.2rem); margin: 0 0 .75rem; }
    h3 { font-size: clamp(1.1rem, 3.5vw, 1.4rem); margin: .25rem 0 .25rem; }
    p { margin: 0 0 1rem; line-height: 1.65; opacity: .96; }
    code { color: var(--accent-blue); }

    .row { display: grid; grid-template-columns: 1fr; gap: 1rem; }
    @media (min-width: 820px) { .row { grid-template-columns: 1fr 1fr; } }

    .btn { display:inline-block; margin:.4rem .35rem 0 0; padding:.7rem 1rem; border-radius:12px; text-decoration:none; color:#06121c; background:var(--accent-blue); font-weight:700; border:1px solid rgba(0,0,0,.35); }
    .btn.red { background: var(--accent-red); color: #1b0202; }
    .btn.ghost { background: transparent; color: var(--text); border:1px solid rgba(255,255,255,.18); }

    .mini { display:flex; align-items:center; gap:.9rem; }
    .avatar { width:64px; height:64px; border-radius: 12px; border:1px solid rgba(255,255,255,.2); object-fit: cover; }
    .stats { opacity:.9; font-size:.95rem; }

    .grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 12px; }
    .repo { border:1px solid rgba(255,255,255,.12); border-radius: 14px; padding: .9rem; background: rgba(255,255,255,.03); }
    .repo h4 { margin: 0 0 .25rem; font-size: 1.05rem; }
    .repo .meta { font-size:.9rem; opacity:.85; display:flex; gap:.8rem; }

    /* dot nav on the right */
    .nav-dots { position: fixed; right: 16px; top: 50%; transform: translateY(-50%); display: flex; flex-direction: column; gap: 10px; z-index: 10; }
    .nav-dots button { width: 10px; height: 10px; border-radius: 50%; border: none; opacity: .45; background: var(--accent-blue); cursor: pointer; box-shadow: 0 0 8px rgba(100,181,246,.8); }
    .nav-dots button[aria-current="true"] { opacity: 1; transform: scale(1.2); background: var(--accent-red); box-shadow: 0 0 8px rgba(239,83,80,.8); }

    @media (prefers-reduced-motion: reduce) { body { transition:none; } .nav-dots { display:none; } }
  </style>
</head>
<body>
  <main id="app">
    <!-- HERO -->
    <section id="s1">
      <div class="card" style="text-align:center">
        <span class="badge">security researcher</span>
        <h1>Shon Gur</h1>
        <p>Reverse engineering • C++/Python tooling • CI/CD • systems. Scroll to watch the background shift as you move through the sections.</p>
        <p>
          <a class="btn" href="#profiles">Explore Profiles</a>
          <a class="btn ghost" href="#contact">Contact</a>
        </p>
      </div>
    </section>

    <!-- PROFILES -->
    <section id="profiles">
      <div class="card">
        <h2>Profiles</h2>
        <div class="row">
          <!-- LinkedIn badge (preview only) -->
          <div>
            <h3>LinkedIn</h3>
            <p class="mini" style="margin-bottom:.75rem">
              <img class="avatar" src="https://logo.clearbit.com/linkedin.com" alt="LinkedIn" />
              <span>Live profile preview below.</span>
            </p>
            <div class="li-wrap" style="margin-bottom:.5rem">
              <div class="badge-base LI-profile-badge" data-locale="en_US" data-size="medium" data-theme="dark" data-type="HORIZONTAL" data-vanity="shongur" data-version="v1"><a class="badge-base__link LI-simple-link" href="https://www.linkedin.com/in/shongur/">Shon Gur</a></div>
            </div>
            <!-- no extra buttons here per request -->

            <h3 style="margin-top:1.1rem">Starred projects (GitHub)</h3>
            <div id="starred" class="grid" aria-live="polite"></div>
          </div>

          <!-- GitHub dynamic card with pinned repos -->
          <div>
            <h3>GitHub</h3>
            <div class="mini" style="margin-bottom:.5rem">
              <img id="gh-avatar" class="avatar" src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub avatar"/>
              <div>
                <div id="gh-name" style="font-weight:700">Loading…</div>
                <div id="gh-login" class="stats">@ShonGur</div>
              </div>
            </div>
            <p id="gh-bio" style="margin-top:-.25rem">&nbsp;</p>
            <div class="stats" id="gh-stats">&nbsp;</div>
            <h3 style="margin-top:1rem">Pinned repositories</h3>
            <div id="pinned" class="grid" aria-live="polite"></div>
            <p style="margin-top:.6rem">
              <a class="btn" target="_blank" rel="noreferrer" href="https://github.com/ShonGur">Open GitHub</a>
              <iframe style="vertical-align: middle;" src="https://ghbtns.com/github-btn.html?user=ShonGur&type=follow&count=true" frameborder="0" scrolling="0" width="170" height="20" title="Follow on GitHub"></iframe>
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact">
      <div class="card">
        <h2>Contact</h2>
        <p>Prefer email? I read everything.</p>
        <p>
          <a class="btn" target="_blank" rel="noreferrer" href="https://mail.google.com/mail/?view=cm&fs=1&to=shoncpp@gmail.com&su=Inquiry">Email via Gmail (Subject: Inquiry)</a>
          <a class="btn ghost" href="mailto:shoncpp@gmail.com?subject=Inquiry">Use default mail app</a>
        </p>
      </div>
    </section>

    <!-- PERSONAL: Steam + Lichess -->
    <section id="personal">
      <div class="card">
        <h2>Personal</h2>
        <div class="row">
          <!-- Steam -->
          <div>
            <h3>Steam</h3>
            <div class="mini" style="margin-bottom:.5rem">
              <img id="steam-avatar" class="avatar" src="https://store.cloudflare.steamstatic.com/public/shared/images/responsive/share_steam_logo.png" alt="Steam avatar"/>
              <div>
                <div style="font-weight:700">@76561198937367718</div>
                <div class="stats" id="steam-level">Level: —</div>
              </div>
            </div>
            <p>
              <a class="btn red" target="_blank" rel="noreferrer" href="https://steamcommunity.com/profiles/76561198937367718/">Open in browser</a>
              <a class="btn ghost" href="steam://openurl/https://steamcommunity.com/profiles/76561198937367718/">Open in Steam client</a>
            </p>
          </div>

          <!-- Lichess -->
          <div>
            <h3>Lichess</h3>
            <div class="mini" style="margin-bottom:.5rem">
              <img class="avatar" src="https://lichess.org/assets/favicon-256.png" alt="Lichess"/>
              <div>
                <div style="font-weight:700">@ShonGur</div>
                <div class="stats" id="lichess-rapid">Rapid: —</div>
              </div>
            </div>
            <p>
              <a class="btn" target="_blank" rel="noreferrer" href="https://lichess.org/@/ShonGur">Open profile</a>
            </p>
          </div>
        </div>
        <p style="opacity:.75;margin-top:.75rem">Note: Steam level & avatar require a Steam Web API key to fetch. Add it in the <code>CONFIG.steamApiKey</code> in the script below (never commit secrets to public repos).</p>
      </div>
    </section>
  </main>

  <div class="nav-dots" id="dots" aria-hidden="true"></div>

  <!-- LinkedIn badge script -->
  <script async defer src="https://platform.linkedin.com/badges/js/profile.js"></script>

  <script>
    // --- Configurable handles ---
    const CONFIG = {
      githubUser: 'ShonGur',
      lichessUser: 'ShonGur',
      steamId: '76561198937367718',
      steamApiKey: '', // <-- Optional. Provide your Steam Web API key to enable level & avatar.
      pinnedFallback: [] // e.g., ['GDT_Project_Bl','another-repo'] if pinned fetch fails
    };

    // Scroll-driven color change: map scroll progress → hue from blue to magenta/red
    (() => {
      const root = document.documentElement;
      const sections = Array.from(document.querySelectorAll('section'));
      const dots = document.getElementById('dots');

      // Build dot navigation
      sections.forEach((sec, i) => {
        const b = document.createElement('button');
        b.setAttribute('aria-label', 'Go to section ' + (i+1));
        b.addEventListener('click', () => sec.scrollIntoView({behavior:'smooth', block:'start'}));
        dots.appendChild(b);
      });

      const update = () => {
        const max = (document.body.scrollHeight - innerHeight) || 1;
        const progress = Math.min(1, Math.max(0, scrollY / max));
        const hue = (Number(getComputedStyle(root).getPropertyValue('--hue-start')) || 220) + Math.round(progress * Number(getComputedStyle(root).getPropertyValue('--hue-range')));
        root.style.setProperty('--hue', hue);

        // Highlight current dot
        let idx = sections.length - 1;
        for (let i = 0; i < sections.length; i++) {
          const r = sections[i].getBoundingClientRect();
          if (r.top >= 0 && r.top < innerHeight * 0.6) { idx = i; break; }
        }
        dots.querySelectorAll('button').forEach((b, j) => b.setAttribute('aria-current', j === idx));
      };

      let ticking = false;
      window.addEventListener('scroll', () => {
        if (!ticking) {
          requestAnimationFrame(() => { update(); ticking = false; });
          ticking = true;
        }
      }, { passive: true });
      window.addEventListener('resize', update);
      update();
    })();

    // --- GitHub mini preview + pinned repos ---
    (async () => {
      try {
        const u = CONFIG.githubUser;
        const profR = await fetch(`https://api.github.com/users/${u}`);
        if (profR.ok) {
          const d = await profR.json();
          const $ = (id) => document.getElementById(id);
          if (d.avatar_url) $('gh-avatar').src = d.avatar_url;
          $('gh-name').textContent = d.name || 'GitHub';
          $('gh-login').textContent = '@' + (d.login || u);
          $('gh-bio').textContent = d.bio || '';
          $('gh-stats').textContent = `${d.public_repos ?? '-'} repos · ${d.followers ?? '-'} followers`;
        }

        // Pinned repos — try public service first, then fall back
        let pinned = [];
        try {
          const pr = await fetch(`https://gh-pinned-repos.egoist.dev/?username=${u}`);
          if (pr.ok) pinned = await pr.json();
        } catch(e) {}

        // fallback: top-starred of own repos or manual list
        if (!Array.isArray(pinned) || !pinned.length) {
          if (CONFIG.pinnedFallback && CONFIG.pinnedFallback.length) {
            const arr = await Promise.all(CONFIG.pinnedFallback.map(async name => {
              const r = await fetch(`https://api.github.com/repos/${u}/${name}`);
              if (!r.ok) return null;
              const x = await r.json();
              return { repo: x.name, description: x.description, stars: x.stargazers_count, language: x.language, link: x.html_url };
            }));
            pinned = arr.filter(Boolean);
          } else {
            const rr = await fetch(`https://api.github.com/users/${u}/repos?per_page=100&sort=updated`);
            if (rr.ok) {
              const all = await rr.json();
              all.sort((a,b)=> (b.stargazers_count||0)-(a.stargazers_count||0));
              pinned = all.slice(0,6).map(x=>({ repo:x.name, description:x.description, stars:x.stargazers_count, language:x.language, link:x.html_url }));
            }
          }
        }

        const pinEl = document.getElementById('pinned');
        if (pinned && pinned.length) {
          pinEl.innerHTML = pinned.map(p => `
            <article class="repo">
              <h4><a href="${p.link || `https://github.com/${u}/${p.repo}`}" target="_blank" rel="noreferrer">${p.repo}</a></h4>
              <p style="opacity:.9">${p.description || ''}</p>
              <div class="meta"><span>★ ${p.stars ?? ''}</span><span>${p.language || ''}</span></div>
            </article>
          `).join('');
        } else {
          pinEl.textContent = 'No repos to show.';
        }

        // Recent starred projects (left column under LinkedIn)
        const sr = await fetch(`https://api.github.com/users/${u}/starred?per_page=6`);
        if (sr.ok) {
          const stars = await sr.json();
          const sEl = document.getElementById('starred');
          sEl.innerHTML = stars.slice(0,6).map(x => `
            <article class="repo">
              <h4><a href="${x.html_url}" target="_blank" rel="noreferrer">${x.full_name}</a></h4>
              <p style="opacity:.9">${x.description || ''}</p>
              <div class="meta"><span>★ ${x.stargazers_count || 0}</span><span>${x.language || ''}</span></div>
            </article>
          `).join('');
        }
      } catch(e) {
        // silent fail
      }
    })();

    // --- Steam mini (requires optional API key for level/avatar) ---
    (async () => {
      const key = (CONFIG.steamApiKey || '').trim();
      const id = CONFIG.steamId;
      if (!key) return; // no key provided — UI already shows placeholders
      try {
        const [p1, p2] = await Promise.all([
          fetch(`https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v2/?key=${key}&steamids=${id}`),
          fetch(`https://api.steampowered.com/IPlayerService/GetSteamLevel/v1/?key=${key}&steamid=${id}`)
        ]);
        if (p1.ok) {
          const j = await p1.json();
          const player = j?.response?.players?.[0];
          if (player?.avatarfull) document.getElementById('steam-avatar').src = player.avatarfull;
        }
        if (p2.ok) {
          const j2 = await p2.json();
          const level = j2?.response?.player_level;
          if (typeof level === 'number') document.getElementById('steam-level').textContent = `Level: ${level}`;
        }
      } catch(e) {}
    })();

    // --- Lichess Rapid rating ---
    (async () => {
      try {
        const u = CONFIG.lichessUser;
        const r = await fetch(`https://lichess.org/api/user/${encodeURIComponent(u)}`);
        if (!r.ok) return;
        const d = await r.json();
        const rating = d?.perfs?.rapid?.rating;
        if (rating) document.getElementById('lichess-rapid').textContent = `Rapid: ${rating}`;
      } catch(e) {}
    })();
  </script>
</body>
</html>
